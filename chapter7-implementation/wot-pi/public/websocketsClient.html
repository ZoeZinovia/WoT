<!DOCTYPE html>
<html lang="en">
<body><script>
    function subscribeToWs(url, msg) {
        var socket = new WebSocket(url);

        socket.onopen = function(){
            socket.send("Hi from the client side websocket");
            alert("message sent");
        };

        socket.onmessage = function (event) {
            console.log(JSON.parse(event.data));
            alert("Message received: \n" + JSON.parse(event.data));
        };
        socket.onerror = function (error) {
            console.log('An error occurred while trying to connect to a Websocket!');
            console.log(error);
        };
        socket.onopen = function (event) {
            if (msg) {
                socket.send(msg);
            }
        };
    }
    //subscribeToWs('ws://localhost:8484/pi/sensors/temperature');
    //subscribeToWs('ws://localhost:8484/things/coapDevice/sensors/co2');
    // subscribeToWs('ws://raspberrypi.local:8484/pi/sensors/pir');
    subscribeToWs('ws://raspberrypi.local:8484/pi/actuators/leds/1');
    // subscribeToWs('ws://raspberrypi.local:8484/pi/sensors/temperature');
    //subscribeToWs('ws://raspberrypi.local:8484/pi/sensors/humidity');
    //subscribeToWs('ws://wot-pi.local:8484/pi/sensors/pir');
</script></body></html>